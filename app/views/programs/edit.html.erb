<%= content_for :errors do %> <!-- send instance errors to app layout at yeild :errors-->
  <%= render partial: 'layouts/errors', locals: {object: @program} %>
<% end %>

<div class="container text-center text-white">
  <div class="align-content-center mt-3 text-white">
    <h1>Create A New Program</h1>
  </div>
  <%= form_with model: @program do |f| %>
    <div class="container align-content-center">
      <%= render partial: 'form', locals: {f: f} %> <!-- renders name, desc., and status-->
    </div>

    <!-- Admin / Project Manager / Developers selects -->
    <div class="row mt-3">
      <div class="col-12">
        <h3>Admins:</h3>
        <div class="table-wrapper-scroll-y my-custom-scrollbar">
          <table class="table table-striped table-bordered table-sm text-white">
            <thead>
              <tr>
                <th>Select</th>
                <th>Name</th>
                <th>Email</th>
              </tr>
            </thead>
            <tbody>
              <% @admins.each do |pm| %>
                <tr class="text-white">
                  <td><%= check_box_tag "program[user_ids][]", pm.id %></td>
                  <td><%= pm.name%></td>
                  <td><%= pm.email%></td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-10">
        <h4>Project Managers:</h4>
        <div class="table-wrapper-scroll-y my-custom-scrollbar">
          <table class="table table-striped table-bordered table-sm text-white">
            <thead>
              <tr>
                <th>Select</th>
                <th>Name</th>
                <th>Email</th>
              </tr>
            </thead>
            <tbody>
              <% @prj_managers.each do |pm| %>
                <tr class="text-white">
                  <td><%= check_box_tag "program[user_ids][]", pm.id, check?(pm.id) %></td>
                  <td><%= pm.name%></td>
                  <td><%= pm.email%></td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-10">
        <h4>Developers:</h4>
        <div class="table-wrapper-scroll-y my-custom-scrollbar">
          <table class="table table-striped table-bordered table-sm text-white">
            <thead>
              <tr>
                <th>Select</th>
                <th>Name</th>
                <th>Email</th>
              </tr>
            </thead>
            <tbody>
              <% @devs.each do |dev| %>
                <tr class="text-white">
                  <td><%= check_box_tag "program[user_ids][]", dev.id, check?(dev.id) %></td>
                  <td><%= dev.name%></td>
                  <td><%= dev.email%></td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <%= f.submit "Update Program", class: "btn btn-primary mt-4"%>
  <% end %>
</div>


