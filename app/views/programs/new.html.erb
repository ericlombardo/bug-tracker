<h1>New Program Form</h1>

<%= render partial: 'layouts/errors', locals: {object: @program} %>

<%= form_with model: @program do |f| %>
  <%= f.label :name, "Program Name:" %> <!-- !!render project_info partial -->
  <%= f.text_field :name, required: true %>
  <br>
  <%= f.label :description, "Description:" %>
  <%= f.text_area :description, required: true %>
  <br>
  <h4>Development Status:</h4>  <!-- !!render dev_status partial -->
  <%= f.radio_button :status, "develpment" %>
  <%= f.label :status, "Development", required: true %>
  <br>
  <%= f.radio_button :status, "testing", required: true %>
  <%= f.label :status, "Testing" %>
  <br>
  <%= f.radio_button :status, "production", required: true %>
  <%= f.label :status, "Production" %>
  <br>
  <h3>Project Managers:</h3>
  <div class="col-6 table-wrapper-scroll-y my-custom-scrollbar">
    <table class="table table-striped table-bordered table-sm">
      <thead>
        <tr>
          <th>Select</th>
          <th>Name</th>
          <th>Email</th>
        </tr>
      </thead>
      <tbody>
        <% @prj_managers.each do |pm| %>
          <tr>
            <td><%= check_box_tag "program[user_ids][]", pm.id %></td>
            <td><%= pm.name%></td>
            <td><%= pm.email%></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
  <br>
  <h3>Developers:</h3>
  <div class="col-6 table-wrapper-scroll-y my-custom-scrollbar">
    <table class="table table-striped table-bordered table-sm">
      <thead>
        <tr>
          <th>Select</th>
          <th>Name</th>
          <th>Email</th>
        </tr>
      </thead>
      <tbody>
        <% @devs.each do |dev| %>
          <tr>
            <td><%= check_box_tag "program[user_ids][]", dev.id %></td>
            <td><%= dev.name%></td>
            <td><%= dev.email%></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
  <%= f.label :logo, "Add Logo: "%><br>
  <%= f.file_field :logo %><br>

  <%= f.hidden_field :opened_date, value: Date.current %>
  
  <%= f.submit "Create Program" %>
<% end %>